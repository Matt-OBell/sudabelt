<odoo>
    <data>
        <record model="ir.ui.view" id="staff_transfer_form_view">
            <field name="name">Staff Transfer</field>
            <field name="model">staff.transfer</field>
            <field name="arch" type="xml">
                <form string="Staff Transfer">
                    <header>
                        <button name="confirm" type="object" states="draft" string="Confirm"  class="oe_highlight"/>
                        <button name="button_approve" type="object" states="waiting" string="Approve" class="oe_highlight"/>
                        <button name="button_cancel" type="object" states="waiting" string="Cancel" class="oe_highlight"/>
                        <button name="set_to_draft" type="object" states="cancel" string="Set to Draft" class="oe_highlight"/>
                        <field name="state" widget="statusbar" class="oe_highlight" statusbar_visible="draft,waiting,cancel,done"/>
                    </header>
                    <sheet>
                        <div class="oe_title oe_inline">
                            <h1><field name="name"/></h1>
                        </div>
                        <group>
                            <group>
                                <field name="employee_id" attrs="{'readonly':[('state','=','done')]}"/>
                                <field name="employee_dept" attrs="{'readonly':[('state','=','done')]}"/>
                                <field name="present_branch" attrs="{'readonly':[('state','=','done')]}"/>
                            </group>
                            <group>
                                <field name="employee_job" attrs="{'readonly':[('state','=','done')]}"/>
                                <field name="new_transfer_branch" attrs="{'readonly':[('state','=','done')]}"/>
                            </group>

                            <field name="transfer_reasons" placeholder="Transfer Reasons ..." colspan="4" attrs="{'readonly':[('state','=','done')]}"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <record model="ir.ui.view" id="staff_transfer_tree_view">
            <field name="name">Staff Transfer</field>
            <field name="model">staff.transfer</field>
            <field name="arch" type="xml">
                <tree string="Staff Transfer">
                    <field name="name"/>
                    <field name="employee_id"/>
                    <field name="employee_dept"/>
                    <field name="employee_job"/>
                    <field name="new_transfer_branch"/>
                </tree>
            </field>
        </record>

        <record forcecreate="1" id="transfer_id" model="ir.sequence">
			<field name="name">Transfer ID</field>
			<field name="code">name</field>
			<field name="padding">5</field>
			<field name="prefix">TRANSFER/%(year)s/</field>
			<field name="suffix"></field>
			<field name="implementation">no_gap</field>
		</record>

        <record model="ir.actions.act_window" id="staff_transfer_action">
            <field name="name">Staff Transfer</field>
            <field name="res_model">staff.transfer</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
            <field name="view_id" ref="staff_transfer_tree_view"/>
        </record>


        <record id="email_template_to_employee" model="mail.template">
              <field name="name">Transfer e-mail template</field>
              <field name="email_from">neptune2technology@gmail.com</field>
              <field name="subject">Hi ${ctx.get('employee_name')}</field>
              <field name="email_to">${ctx.get('employee_email')}</field>
              <field name="lang">${object.lang}</field>
              <field name="model_id" model="ir.model" search="[('model', '=', 'staff.transfer')]"/>
              <field name="auto_delete" eval="True"/>
          <field name="body_html">
                <![CDATA[
              <p>Dear ${ctx.get('employee_name')},<br/><br/>
		            Your transfer has been granted. <br/>
		             Regards,<br/>

            ]]>
          </field>
       </record>


        <menuitem id="menu_transfer" name="Staff Transfer" parent="hr.menu_hr_root" sequence="10"/>

        <!--&lt;!&ndash;Petty Cash sub menu&ndash;&gt;-->
        <menuitem id="menu_transfer_request" name="Staff Transfer Request" parent="menu_transfer" sequence="10"
                          action="staff_transfer_action"/>

    </data>
</odoo>